import{j as e,f as l,o as B,s as R,h as D,r as f,S as _}from"./index-DjdYpa2W.js";import{u as E}from"./useAsync-ZUR2i2Lf.js";import{u as I}from"./useFilter--Mhb52Fo.js";import{u as O,P as q}from"./ProductDrawer-BjwZrHz9.js";import{u as L}from"./DrawerButton-BVAP5kMS.js";import{P as Q}from"./ProductServices-CJRh4QM3.js";import{u as F,j as P,k as S,m as H,o as M,p as U}from"./Layout-CC_gf8s-.js";import{M as $}from"./MainDrawer-C792pCvG.js";import{L as J}from"./Loading-gcJL7SU_.js";import{P as v}from"./PageTitle-H6vnBSo9.js";import"./browser-DDvgk3Ro.js";import"./index--JtT38Uf.js";import"./useDisableForDemo-C6HHjxCb.js";import"./toast-DjDqlBK5.js";import"./CouponServices-Bq0cN76W.js";import"./CurrencyServices-SLwyUqNy.js";import"./ParentCategory-C6Rko6G4.js";import"./index-GA0pI32j.js";import"./index.esm-r8MUZnl_.js";import"./InputArea-BaXQNw-P.js";import"./LabelArea-3SiEI5lF.js";import"./InputValue-DSWFRran.js";import"./sweetalert.min-CJsXi30a.js";import"./useTranslationValue-Cw-m3XH1.js";import"./Uploader-m7hlwNE2.js";import"./tslib.es6-BfZZHrVl.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./Tooltip-kLpuPd-Y.js";import"./index.prod-DOlhr_XB.js";import"./spinner-CkndCogW.js";import"./iconBase-TplbiNF9.js";import"./logo-color-CF1h2kui.js";const G=({variants:c,variantTitle:t})=>{const{showingTranslateValue:u,currency:i,getNumberTwo:g}=F();return e.jsx(e.Fragment,{children:e.jsx(l.TableBody,{children:c==null?void 0:c.map((r,d)=>{var o;return r.variantType==="size"&&r.pricingTiers?e.jsxs(B.Fragment,{children:[e.jsxs(l.TableRow,{className:"bg-gradient-to-r from-blue-50 to-gray-50 dark:from-blue-900 dark:to-gray-900 border-l-4 border-blue-500",children:[e.jsx(l.TableCell,{className:"font-bold text-blue-700 dark:text-blue-300",rowSpan:r.pricingTiers.length+1,children:e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-600 text-white rounded-full text-sm font-bold",children:d+1})}),e.jsx(l.TableCell,{rowSpan:r.pricingTiers.length+1,children:e.jsx("div",{className:"flex items-center",children:r.image?e.jsx(l.Avatar,{className:"hidden md:block bg-white shadow-md ring-2 ring-blue-200 dark:ring-blue-700",src:r.image,alt:"product"}):e.jsx(l.Avatar,{src:"https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png",alt:"product",className:"hidden md:block bg-white shadow-md ring-2 ring-blue-200 dark:ring-blue-700"})})}),e.jsx(l.TableCell,{rowSpan:r.pricingTiers.length+1,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(P,{className:"text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"font-bold text-base text-blue-800 dark:text-blue-300",children:r.combination})]}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200",children:"Size Variant"})]})}),e.jsx(l.TableCell,{rowSpan:r.pricingTiers.length+1,children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(S,{className:"text-gray-500 text-sm"}),e.jsx("span",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300",children:r.sku||"N/A"})]})}),e.jsx(l.TableCell,{rowSpan:r.pricingTiers.length+1,children:e.jsx("div",{className:"font-mono text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:r.barcode||"N/A"})}),e.jsx(l.TableCell,{colSpan:2,children:e.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-gray-100 dark:from-blue-800 dark:to-gray-800 p-3 rounded-lg border border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"text-blue-600 dark:text-blue-400"}),e.jsxs("span",{className:"text-sm font-bold text-blue-800 dark:text-blue-200",children:["Pricing Tiers (",r.pricingTiers.length,")"]})]})})}),e.jsx(l.TableCell,{rowSpan:r.pricingTiers.length+1,children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(M,{className:"text-blue-600 dark:text-blue-400 mb-1"}),e.jsx("span",{className:"font-bold text-lg text-blue-700 dark:text-blue-300",children:r.quantity}),e.jsx("span",{className:"text-xs text-gray-500",children:"in stock"})]})})]}),r.pricingTiers.map((a,n)=>e.jsxs(l.TableRow,{className:"bg-white dark:bg-gray-800 hover:bg-blue-50 dark:hover:bg-blue-900 transition-colors border-l-4 border-blue-300 dark:border-blue-600",children:[e.jsx(l.TableCell,{colSpan:2,children:e.jsxs("div",{className:"flex items-center gap-3 py-2",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-lg shadow-md",children:e.jsx(P,{className:"text-lg"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"font-bold text-base text-blue-700 dark:text-blue-300",children:[a.quantity," pieces"]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Quantity tier"})]}),a.discount>0&&e.jsxs("div",{className:"flex items-center gap-1.5 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-3 py-1.5 rounded-full shadow-md",children:[e.jsx(U,{className:"text-sm"}),e.jsxs("span",{className:"font-bold text-sm",children:[a.discount,"% OFF"]})]})]})}),e.jsx(l.TableCell,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"Base Price"}),e.jsxs("span",{className:"font-bold text-base text-gray-700 dark:text-gray-300",children:[i," ",a.basePrice.toFixed(2)]})]})}),e.jsx(l.TableCell,{children:e.jsxs("div",{className:"flex flex-col bg-gradient-to-br from-blue-50 to-gray-50 dark:from-blue-900 dark:to-gray-900 p-3 rounded-lg border border-blue-200 dark:border-blue-700",children:[e.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"Final Price (per piece)"}),e.jsxs("span",{className:"font-bold text-lg text-blue-700 dark:text-blue-300",children:[i," ",a.finalPrice.toFixed(2)]}),e.jsxs("div",{className:"mt-2 pt-2 border-t border-blue-200 dark:border-blue-700",children:[e.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Value:"}),e.jsxs("span",{className:"font-bold text-base text-blue-600 dark:text-blue-400 ml-2",children:[i," ",(a.finalPrice*a.quantity).toFixed(2)]})]})]})})]},`${d}-tier-${n}`))]},d+1):e.jsxs(l.TableRow,{className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx(l.TableCell,{children:e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-600 text-white rounded-full text-sm font-bold",children:d+1})}),e.jsx(l.TableCell,{children:e.jsx("div",{className:"flex items-center",children:r.image?e.jsx(l.Avatar,{className:"hidden md:block bg-white shadow-md ring-2 ring-gray-200 dark:ring-gray-700",src:r.image,alt:"product"}):e.jsx(l.Avatar,{src:"https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png",alt:"product",className:"hidden md:block bg-white shadow-md ring-2 ring-gray-200 dark:ring-gray-700"})})}),e.jsx(l.TableCell,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm text-gray-800 dark:text-gray-200",children:(o=t==null?void 0:t.map(a=>{var b,h;const n=(b=a==null?void 0:a.variants)==null?void 0:b.filter(m=>(m==null?void 0:m.name)!=="All"),x=(h=n==null?void 0:n.find(m=>m._id===r[a==null?void 0:a._id]))==null?void 0:h.name;return x===void 0?x==null?void 0:x.en:u(x)}))==null?void 0:o.filter(Boolean).join(" ")}),r.productId&&e.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:["(",r.productId,")"]})]})}),e.jsx(l.TableCell,{children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(S,{className:"text-gray-500 text-sm"}),e.jsx("span",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300",children:r.sku||"N/A"})]})}),e.jsx(l.TableCell,{children:e.jsx("div",{className:"font-mono text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:r.barcode||"N/A"})}),e.jsx(l.TableCell,{children:e.jsxs("span",{className:"font-semibold text-sm text-gray-600 dark:text-gray-400",children:[i," ",g(r.originalPrice)]})}),e.jsx(l.TableCell,{children:e.jsxs("span",{className:"font-bold text-base text-blue-600 dark:text-blue-400",children:[i," ",g(r.price)]})}),e.jsx(l.TableCell,{children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"font-bold text-base text-gray-700 dark:text-gray-300",children:r.quantity}),e.jsx("span",{className:"text-xs text-gray-500",children:"in stock"})]})})]},d+1)})})})},Se=()=>{var y,N,k,T,w;const{id:c}=R(),{t}=D(),{handleUpdate:u}=L(),{attribue:i}=O(c),[g,r]=f.useState([]),{lang:d}=f.useContext(_),{data:s,loading:o}=E(()=>Q.getProductById(c)),{currency:a,showingTranslateValue:n,getNumberTwo:x}=F(),{handleChangePage:b,totalResults:h,resultsPerPage:m,dataTable:A}=I(s==null?void 0:s.variants);return f.useEffect(()=>{var p;if(!o)if((p=s==null?void 0:s.variants)==null?void 0:p.some(j=>j.variantType==="size"))r([]);else{const j=Object.keys(Object.assign({},...s==null?void 0:s.variants)),V=i==null?void 0:i.filter(z=>j.includes(z._id));r(V)}},[i,s==null?void 0:s.variants,o,d]),console.log("product",s),e.jsxs(e.Fragment,{children:[e.jsx($,{product:!0,children:e.jsx(q,{id:c})}),e.jsx(v,{children:t("ProductDetails")}),o?e.jsx(J,{loading:o}):e.jsx("div",{className:"inline-block overflow-y-auto h-full align-middle transition-all transform",children:e.jsxs("div",{className:"flex flex-col lg:flex-row md:flex-row w-full overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-auto",children:s!=null&&s.image[0]?e.jsx("img",{src:s==null?void 0:s.image[0],alt:"product",className:"h-64 w-64"}):e.jsx("img",{src:"https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png",alt:"product"})}),e.jsxs("div",{className:"w-full flex flex-col p-5 md:p-8 text-left",children:[e.jsxs("div",{className:"mb-5 block ",children:[e.jsx("div",{className:"font-serif font-semibold py-1 text-sm",children:e.jsxs("p",{className:"text-sm text-gray-500 pr-4",children:[t("Status"),":"," ",s.status==="show"?e.jsx("span",{className:"text-emerald-400",children:t("ThisProductShowing")}):e.jsx("span",{className:"text-red-400",children:t("ThisProductHidden")})]})}),e.jsx("h2",{className:"text-heading text-lg md:text-xl lg:text-2xl font-semibold font-serif dark:text-gray-400",children:n(s==null?void 0:s.title)}),e.jsxs("p",{className:"uppercase font-serif font-medium text-gray-500 dark:text-gray-400 text-sm",children:[t("Sku")," :"," ",e.jsx("span",{className:"font-bold text-gray-500 dark:text-gray-500",children:s==null?void 0:s.sku})]})]}),e.jsx("div",{className:"font-serif product-price font-bold dark:text-gray-400",children:e.jsxs("span",{className:"inline-block text-2xl",children:[a,x((y=s==null?void 0:s.prices)==null?void 0:y.price),((N=s==null?void 0:s.prices)==null?void 0:N.discount)>=1&&e.jsxs("del",{className:"text-gray-400 dark:text-gray-500 text-lg pl-2",children:[a,x((k=s==null?void 0:s.prices)==null?void 0:k.originalPrice)]})]})}),e.jsxs("div",{className:"mb-3",children:[(s==null?void 0:s.stock)<=0?e.jsxs(l.Badge,{type:"danger",children:[e.jsx("span",{className:"font-bold",children:t("StockOut")})," "]}):e.jsxs(l.Badge,{type:"success",children:[" ",e.jsx("span",{className:"font-bold",children:t("InStock")})]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium pl-4",children:[t("Quantity"),": ",s==null?void 0:s.stock]})]}),e.jsx("p",{className:"text-sm leading-6 text-gray-500 dark:text-gray-400 md:leading-7",children:n(s==null?void 0:s.description)}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsxs("p",{className:"font-serif font-semibold py-1 text-gray-500 text-sm",children:[e.jsxs("span",{className:"text-gray-700 dark:text-gray-400",children:[t("Category"),":"," "]})," ",n((T=s==null?void 0:s.category)==null?void 0:T.name)]}),e.jsx("div",{className:"flex flex-row",children:JSON.parse(s==null?void 0:s.tag).map((p,C)=>e.jsx("span",{className:"bg-gray-200 mr-2 border-0 text-gray-500 rounded-full inline-flex items-center justify-center px-2 py-1 text-xs font-semibold font-serif mt-2 dark:bg-gray-700 dark:text-gray-300",children:p},C+1))})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>u(c),className:"cursor-pointer leading-5 transition-colors duration-150 font-medium text-sm focus:outline-none px-5 py-2 rounded-md text-white bg-blue-500 border border-transparent active:bg-blue-600 hover:bg-blue-600 ",children:t("EditProduct")})})]})]})}),(s==null?void 0:s.isCombination)&&((w=s==null?void 0:s.variants)==null?void 0:w.length)>0&&!o&&e.jsxs(e.Fragment,{children:[e.jsx(v,{children:t("ProductVariantList")}),e.jsxs(l.TableContainer,{className:"mb-8 rounded-b-lg",children:[e.jsxs(l.Table,{children:[e.jsx(l.TableHeader,{children:e.jsxs("tr",{children:[e.jsx(l.TableCell,{children:t("SR")}),e.jsx(l.TableCell,{children:t("Image")}),e.jsx(l.TableCell,{children:t("Combination")}),e.jsx(l.TableCell,{children:t("Sku")}),e.jsx(l.TableCell,{children:t("Barcode")}),e.jsx(l.TableCell,{children:t("Price")}),e.jsx(l.TableCell,{children:t("SalePrice")}),e.jsx(l.TableCell,{children:t("Quantity")})]})}),e.jsx(G,{lang:d,variants:A,currency:a,variantTitle:g})]}),e.jsx(l.TableFooter,{children:e.jsx(l.Pagination,{totalResults:h,resultsPerPage:m,onChange:b,label:"Product Page Navigation"})})]})]})]})};export{Se as default};
