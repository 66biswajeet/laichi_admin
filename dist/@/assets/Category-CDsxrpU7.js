import{h as y,j as e,r as n,S as _,f as a}from"./index-DjdYpa2W.js";import{b as $,c as q,e as G}from"./Layout-CC_gf8s-.js";import{u as k}from"./useAsync-ZUR2i2Lf.js";import{C as w}from"./CouponServices-Bq0cN76W.js";import{u as J}from"./DrawerButton-BVAP5kMS.js";import{u as K}from"./useFilter--Mhb52Fo.js";import{D as Q}from"./DeleteModal-cFnm5AMi.js";import{B as X}from"./BulkActionDrawer-LUetHFDC.js";import{P as Y}from"./PageTitle-H6vnBSo9.js";import{M as Z}from"./MainDrawer-C792pCvG.js";import{C as ee,a as ae}from"./CategoryTable-DmBvlDsA.js";import{U as le}from"./UploadMany-BsHjyB1S.js";import{a as se}from"./index.prod-DOlhr_XB.js";import{T as te}from"./TableLoading-u8ybCk9T.js";import{C as re}from"./CheckBox-46nNUpuw.js";import{N as de}from"./NotFound-B98lRYvl.js";import{A as ie}from"./AnimatedContent-Dramat6q.js";import"./iconBase-TplbiNF9.js";import"./logo-color-CF1h2kui.js";import"./spinner-CkndCogW.js";import"./browser-DDvgk3Ro.js";import"./index--JtT38Uf.js";import"./useDisableForDemo-C6HHjxCb.js";import"./toast-DjDqlBK5.js";import"./ProductServices-CJRh4QM3.js";import"./CurrencyServices-SLwyUqNy.js";import"./AdminServices-UtE7rAlO.js";import"./ParentCategory-C6Rko6G4.js";import"./index.esm-r8MUZnl_.js";import"./LabelArea-3SiEI5lF.js";import"./SwitchToggle-BlzZU-78.js";import"./InputArea-BaXQNw-P.js";import"./Uploader-m7hlwNE2.js";import"./tslib.es6-BfZZHrVl.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./useTranslationValue-Cw-m3XH1.js";import"./EditDeleteButton-DP-eF8Sj.js";import"./Tooltip-kLpuPd-Y.js";import"./exportFromJSON-fDIoOtpr.js";const oe=({title:c,handleProcess:d,processOption:l})=>{const{t:i}=y();return e.jsx(e.Fragment,{children:e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex flex-wrap items-center float-right",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:c}),e.jsx(se,{onChange:d,checked:l,className:"react-switch md:ml-0 ml-3",uncheckedIcon:e.jsx("div",{style:{display:"flex",justifyContent:"left",alignItems:"center",height:"100%",fontSize:12,color:"white",paddingRight:50,paddingTop:1,marginLeft:-40,whiteSpace:"nowrap"},children:i("ParentsOnly")}),width:115,height:28,handleDiameter:26,offColor:"#0e9f6e",onColor:"#2F855A",checkedIcon:e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:12,color:"white",paddingLeft:8,paddingTop:1},children:i("All")})})]})})})},Je=()=>{var j,f,v;const{toggleDrawer:c,lang:d}=n.useContext(_),{data:l,loading:i,error:b}=k(w.getAllCategory),{data:N}=k(w.getAllCategories),{handleDeleteMany:T,allId:p,handleUpdateMany:S,serviceId:A}=J(),{t:s}=y(),{handleSubmitCategory:M,categoryRef:u,totalResults:z,resultsPerPage:B,dataTable:F,serviceData:m,handleChangePage:R,filename:H,isDisabled:I,setCategoryType:D,handleSelectFile:P,handleUploadMultiple:L,handleRemoveSelectFile:V}=K((j=l[0])!=null&&j.children?(f=l[0])==null?void 0:f.children:l),[h,E]=n.useState(!1),[t,o]=n.useState([]),[x,U]=n.useState(!1),O=()=>{var r;E(!h),o((r=l[0])==null?void 0:r.children.map(g=>g._id)),h&&o([])},W=()=>{D(""),u.current.value=""};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{children:s("Category")}),e.jsx(Q,{ids:p,setIsCheck:o}),e.jsx(X,{ids:p,title:"Categories",lang:d,data:l,isCheck:t}),e.jsx(Z,{children:e.jsx(ee,{id:A,data:l,lang:d})}),e.jsxs(ie,{children:[e.jsxs("div",{className:"grid gap-4 mb-6 md:grid-cols-2 xl:grid-cols-4",children:[e.jsxs("div",{className:"flex items-center p-4 bg-white rounded-lg shadow-sm dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"p-3 mr-4 text-blue-600 bg-blue-100 rounded-full dark:text-blue-100 dark:bg-blue-600",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total Categories"}),e.jsx("p",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200",children:(l==null?void 0:l.length)||0})]})]}),e.jsxs("div",{className:"flex items-center p-4 bg-white rounded-lg shadow-sm dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"p-3 mr-4 text-blue-600 bg-blue-100 rounded-full dark:text-blue-100 dark:bg-blue-600",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Active"}),e.jsx("p",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200",children:((v=l==null?void 0:l.filter(r=>r.status==="show"))==null?void 0:v.length)||0})]})]}),e.jsxs("div",{className:"flex items-center p-4 bg-white rounded-lg shadow-sm dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"p-3 mr-4 text-blue-600 bg-blue-100 rounded-full dark:text-blue-100 dark:bg-blue-600",children:e.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Sub Categories"}),e.jsx("p",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200",children:(l==null?void 0:l.reduce((r,g)=>{var C;return r+(((C=g.children)==null?void 0:C.length)||0)},0))||0})]})]}),e.jsxs("div",{className:"flex items-center p-4 bg-white rounded-lg shadow-sm dark:bg-gray-800 border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"p-3 mr-4 text-green-600 bg-green-100 rounded-full dark:text-green-100 dark:bg-green-600",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Selected"}),e.jsx("p",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200",children:(t==null?void 0:t.length)||0})]})]})]}),e.jsx(a.Card,{className:"min-w-0 shadow-md overflow-hidden bg-white dark:bg-slate-800 mb-5 border border-slate-200 dark:border-slate-700",children:e.jsx(a.CardBody,{children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Category Management"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Manage your product categories and subcategories"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 w-full lg:w-auto",children:[e.jsx("div",{className:"flex-1 lg:flex-initial",children:e.jsx(le,{title:"Categories",exportData:N,filename:H,isDisabled:I,handleSelectFile:P,handleUploadMultiple:L,handleRemoveSelectFile:V})}),e.jsxs(a.Button,{disabled:t.length<1,onClick:()=>S(t),className:"h-12 px-6 bg-slate-100 text-slate-700 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600 rounded-lg shadow-sm transition-all duration-200",children:[e.jsx("span",{className:"mr-2",children:e.jsx($,{})}),s("BulkAction")]}),e.jsxs(a.Button,{disabled:t.length<1,onClick:()=>T(t),className:"h-12 px-6 bg-red-500 hover:bg-red-600 text-white rounded-lg shadow-sm transition-all duration-200",children:[e.jsx("span",{className:"mr-2",children:e.jsx(q,{})}),s("Delete")]}),e.jsxs(a.Button,{onClick:c,className:"h-12 px-6 bg-blue-500 hover:bg-blue-600 text-white rounded-lg shadow-sm transition-all duration-200",children:[e.jsx("span",{className:"mr-2",children:e.jsx(G,{})}),s("AddCategory")]})]})]})})}),e.jsx(a.Card,{className:"min-w-0 shadow-md overflow-hidden bg-white dark:bg-slate-800 mb-5 border border-slate-200 dark:border-slate-700",children:e.jsx(a.CardBody,{children:e.jsxs("form",{onSubmit:M,className:"grid gap-4 md:grid-cols-12",children:[e.jsxs("div",{className:"md:col-span-8",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-400 mb-2",children:"Search Categories"}),e.jsx(a.Input,{ref:u,type:"search",className:"w-full",placeholder:"Search by category name or subcategory..."})]}),e.jsxs("div",{className:"md:col-span-4 flex items-end gap-2",children:[e.jsxs(a.Button,{type:"submit",className:"flex-1 h-12 bg-blue-500 hover:bg-blue-600 rounded-lg shadow-sm hover:shadow-md transition-all duration-200",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Filter"]}),e.jsxs(a.Button,{layout:"outline",onClick:W,type:"reset",className:"h-12 px-6 border-2 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-all duration-200",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:"Reset"})]})]})]})})})]}),e.jsx(oe,{title:" ",handleProcess:U,processOption:x,name:x}),i?e.jsx(te,{row:12,col:6,width:190,height:20}):b?e.jsx("span",{className:"text-center mx-auto text-red-500",children:b}):(m==null?void 0:m.length)!==0?e.jsx(a.Card,{className:"shadow-md border border-gray-100 dark:border-gray-700",children:e.jsxs(a.TableContainer,{className:"mb-8 rounded-lg",children:[e.jsxs(a.Table,{children:[e.jsx(a.TableHeader,{children:e.jsxs("tr",{children:[e.jsx(a.TableCell,{children:e.jsx(re,{type:"checkbox",name:"selectAll",id:"selectAll",handleClick:O,isChecked:h})}),e.jsx(a.TableCell,{children:s("catIdTbl")}),e.jsx(a.TableCell,{children:"Index"}),e.jsx(a.TableCell,{children:s("catIconTbl")}),e.jsx(a.TableCell,{children:s("CatTbName")}),e.jsx(a.TableCell,{children:"Sub Category"}),e.jsx(a.TableCell,{className:"text-center",children:s("catPublishedTbl")}),e.jsx(a.TableCell,{className:"text-right",children:s("catActionsTbl")})]})}),e.jsx(ae,{data:l,lang:d,isCheck:t,categories:F,setIsCheck:o,showChild:x})]}),e.jsx(a.TableFooter,{children:e.jsx(a.Pagination,{totalResults:z,resultsPerPage:B,onChange:R,label:"Table navigation"})})]})}):e.jsx(de,{title:"Sorry, There are no categories right now."})]})};export{Je as default};
