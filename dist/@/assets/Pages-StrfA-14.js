import{g as Je,r as A,S as Te,h as Ae,j as o,w as Ye,o as Ke,u as Ze,f as b,q as et}from"./index-DjdYpa2W.js";import{l as tt,c as Ce,u as rt,b as Le,e as at}from"./Layout-CC_gf8s-.js";import{u as nt}from"./useAsync-ZUR2i2Lf.js";import{T as Oe,D as it,u as ke}from"./DrawerButton-BVAP5kMS.js";import{N as ot}from"./NotFound-B98lRYvl.js";import{P as he}from"./PageServices-BXC4Ewfi.js";import{P as st}from"./PageTitle-H6vnBSo9.js";import{M as Fe}from"./MainDrawer-C792pCvG.js";import{r as lt,D as V,d as ut,a as dt}from"./react-draft-wysiwyg-C_PcclWi.js";import{u as ct,E as we}from"./index.esm-r8MUZnl_.js";import{I as fe}from"./InputArea-BaXQNw-P.js";import{L as Z}from"./LabelArea-3SiEI5lF.js";import{U as mt}from"./Uploader-m7hlwNE2.js";import{S as ft}from"./SwitchToggle-BlzZU-78.js";import{a as te,n as re}from"./toast-DjDqlBK5.js";import{u as ht}from"./useTranslationValue-Cw-m3XH1.js";import{C as Ie}from"./CheckBox-46nNUpuw.js";import{D as Be}from"./DeleteModal-cFnm5AMi.js";import{T as gt}from"./TableLoading-u8ybCk9T.js";import{A as vt}from"./AnimatedContent-Dramat6q.js";import{P as pt,C as bt}from"./ProductServices-CJRh4QM3.js";import{A as xt}from"./AdminServices-UtE7rAlO.js";import{C as wt,a as yt}from"./CouponServices-Bq0cN76W.js";import"./iconBase-TplbiNF9.js";import"./logo-color-CF1h2kui.js";import"./spinner-CkndCogW.js";import"./index-CmyPrWPK.js";import"./tslib.es6-BfZZHrVl.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./index--JtT38Uf.js";import"./index.prod-DOlhr_XB.js";import"./CurrencyServices-SLwyUqNy.js";import"./useDisableForDemo-C6HHjxCb.js";var He={exports:{}};(function(r,e){(function(t,a){r.exports=a(lt(),V)})(window,function(t,a){return l={},n.m=i=[function(d,s){d.exports=t},function(d,s){d.exports=a},function(d,s,m){d.exports=m(3)},function(d,s,m){m.r(s);var g=m(1),f=m(0),y=function(u){var p,h=null;return document.implementation&&document.implementation.createHTMLDocument&&((p=document.implementation.createHTMLDocument("foo")).documentElement.innerHTML=u,h=p.getElementsByTagName("body")[0]),h},c=function(u,p,h){var D,P=u.textContent;return P.trim()===""?{chunk:(D=h,{text:" ",inlines:[new f.OrderedSet],entities:[D],blocks:[]})}:{chunk:{text:P,inlines:Array(P.length).fill(p),entities:Array(P.length).fill(h),blocks:[]}}},M=function(){return{text:`
`,inlines:[new f.OrderedSet],entities:new Array(1),blocks:[]}},U=function(){return{text:"",inlines:[],entities:[],blocks:[]}},j=function(u,p){return{text:"",inlines:[],entities:[],blocks:[{type:u,depth:0,data:p||new f.Map({})}]}},Y=function(u,p,h){return{text:"\r",inlines:[],entities:[],blocks:[{type:u,depth:Math.max(0,Math.min(4,p)),data:h||new f.Map({})}]}},C=function(u){return{text:"\r ",inlines:[new f.OrderedSet],entities:[u],blocks:[{type:"atomic",depth:0,data:new f.Map({})}]}},E=function(u,p){return{text:u.text+p.text,inlines:u.inlines.concat(p.inlines),entities:u.entities.concat(p.entities),blocks:u.blocks.concat(p.blocks)}},k=new f.Map({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:"ul"},"ordered-list-item":{element:"li",wrapper:"ol"},blockquote:{element:"blockquote"},code:{element:"pre"},atomic:{element:"figure"},unstyled:{element:"p",aliasedElements:["div"]}}),O={code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",strong:"BOLD",ins:"UNDERLINE",sub:"SUBSCRIPT",sup:"SUPERSCRIPT"};function W(u){return u.style.textAlign?new f.Map({"text-align":u.style.textAlign}):u.style.marginLeft?new f.Map({"margin-left":u.style.marginLeft}):void 0}var ie=function(u){var p=void 0;if(u instanceof HTMLAnchorElement){var h={};p=u.dataset&&u.dataset.mention!==void 0?(h.url=u.href,h.text=u.innerHTML,h.value=u.dataset.value,g.Entity.__create("MENTION","IMMUTABLE",h)):(h.url=u.getAttribute&&u.getAttribute("href")||u.href,h.title=u.innerHTML,h.targetOption=u.target,g.Entity.__create("LINK","MUTABLE",h))}return p};m.d(s,"default",function(){return S});var oe=" ",se=new RegExp("&nbsp;","g"),w=!0;function T(u,p,h,D,P,I){var v=u.nodeName.toLowerCase();if(I){var L=I(v,u);if(L){var B=g.Entity.__create(L.type,L.mutability,L.data||{});return{chunk:C(B)}}}if(v==="#text"&&u.textContent!==`
`)return c(u,p,P);if(v==="br")return{chunk:M()};if(v==="img"&&u instanceof HTMLImageElement){var _={};_.src=u.getAttribute&&u.getAttribute("src")||u.src,_.alt=u.alt,_.height=u.style.height,_.width=u.style.width,u.style.float&&(_.alignment=u.style.float);var $=g.Entity.__create("IMAGE","MUTABLE",_);return{chunk:C($)}}if(v==="video"&&u instanceof HTMLVideoElement){var H={};H.src=u.getAttribute&&u.getAttribute("src")||u.src,H.alt=u.alt,H.height=u.style.height,H.width=u.style.width,u.style.float&&(H.alignment=u.style.float);var be=g.Entity.__create("VIDEO","MUTABLE",H);return{chunk:C(be)}}if(v==="iframe"&&u instanceof HTMLIFrameElement){var z={};z.src=u.getAttribute&&u.getAttribute("src")||u.src,z.height=u.height,z.width=u.width;var xe=g.Entity.__create("EMBEDDED_LINK","MUTABLE",z);return{chunk:C(xe)}}var R,Q=function(le,me){var ue=k.filter(function(F){return F.element===le&&(!F.wrapper||F.wrapper===me)||F.wrapper===le||F.aliasedElements&&-1<F.aliasedElements.indexOf(le)}).keySeq().toSet().toArray();if(ue.length===1)return ue[0]}(v,D);Q&&(v==="ul"||v==="ol"?(D=v,h+=1):(Q!=="unordered-list-item"&&Q!=="ordered-list-item"&&(D="",h=-1),w?(R=j(Q,W(u)),w=!1):R=Y(Q,h,W(u)))),R=R||U(),p=function(le,me,ue){var F,Se=O[le];if(Se)F=ue.add(Se).toOrderedSet();else if(me instanceof HTMLElement){var J=me;F=(F=ue).withMutations(function(K){var Me=J.style.color,je=J.style.backgroundColor,De=J.style.fontSize,Pe=J.style.fontFamily.replace(/^"|"$/g,""),Xe=J.style.fontWeight,Ve=J.style.textDecoration,ze=J.style.fontStyle;Me&&K.add("color-".concat(Me.replace(/ /g,""))),je&&K.add("bgcolor-".concat(je.replace(/ /g,""))),De&&K.add("fontsize-".concat(De.replace(/px$/g,""))),Pe&&K.add("fontfamily-".concat(Pe)),Xe==="bold"&&K.add(O.strong),Ve==="underline"&&K.add(O.ins),ze==="italic"&&K.add(O.em)}).toOrderedSet()}return F}(v,u,p);for(var G=u.firstChild;G;){var Ge=T(G,p,h,D,ie(G)||P,I).chunk;R=E(R,Ge),G=G.nextSibling}return{chunk:R}}function S(u,p){var h,D,P,I=(h=p,D=u.trim().replace(se,oe),(P=y(D))?(w=!0,{chunk:T(P,new f.OrderedSet,-1,"",void 0,h).chunk}):null);if(I){var v=I.chunk,L=new f.OrderedMap({});v.entities&&v.entities.forEach(function(_){_&&(L=L.set(_,g.Entity.__get(_)))});var B=0;return{contentBlocks:v.text.split("\r").map(function(_,$){var H=B+_.length,be=v&&v.inlines.slice(B,H),z=v&&v.entities.slice(B,H),xe=new f.List(be.map(function(R,Q){var G={style:R,entity:null};return z[Q]&&(G.entity=z[Q]),g.CharacterMetadata.create(G)}));return B=H,new g.ContentBlock({key:Object(g.genKey)(),type:v&&v.blocks[$]&&v.blocks[$].type||"unstyled",depth:v&&v.blocks[$]&&v.blocks[$].depth,data:v&&v.blocks[$]&&v.blocks[$].data||new f.Map({}),text:_,characterList:xe})}),entityMap:L}}return null}}],n.c=l,n.d=function(d,s,m){n.o(d,s)||Object.defineProperty(d,s,{enumerable:!0,get:m})},n.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},n.t=function(d,s){if(1&s&&(d=n(d)),8&s||4&s&&typeof d=="object"&&d&&d.__esModule)return d;var m=Object.create(null);if(n.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:d}),2&s&&typeof d!="string")for(var g in d)n.d(m,g,(function(f){return d[f]}).bind(null,g));return m},n.n=function(d){var s=d&&d.__esModule?function(){return d.default}:function(){return d};return n.d(s,"a",s),s},n.o=function(d,s){return Object.prototype.hasOwnProperty.call(d,s)},n.p="",n(n.s=2);function n(d){if(l[d])return l[d].exports;var s=l[d]={i:d,l:!1,exports:{}};return i[d].call(s.exports,s,s.exports,n),s.l=!0,s.exports}var i,l})})(He);var Tt=He.exports;const Ne=Je(Tt),Ct=r=>{const{isDrawerOpen:e,closeDrawer:t,setIsUpdate:a,lang:n}=A.useContext(Te),[i,l]=A.useState(""),[d,s]=A.useState("en"),[m,g]=A.useState(!1),[f,y]=A.useState(!1),[c,M]=A.useState({}),[U,j]=A.useState(V.EditorState.createEmpty()),{handlerTextTranslateHandler:Y}=ht(),{register:C,handleSubmit:E,setValue:k,clearErrors:O,reset:W,formState:{errors:ie}}=ct(),oe=async w=>{var T,S;try{y(!0);const u=U.getCurrentContent(),p=V.convertToRaw(u),h=ut(p),D=await Y(w.title,d,c==null?void 0:c.title),P={...c==null?void 0:c.description,[d]:h},I=await Y(w.metaTitle||w.title,d,c==null?void 0:c.metaTitle),v=await Y(w.metaDescription||"",d,c==null?void 0:c.metaDescription),L={title:{...D,[d]:w.title},slug:w.slug,description:P,metaTitle:{...I,[d]:w.metaTitle||w.title},metaDescription:{...v,[d]:w.metaDescription||""},headerBg:i,status:m?"publish":"draft",published:m,lang:d};if(r){const B=await he.updatePage(r,L);a(!0),y(!1),re(B.message),t(),W()}else{const B=await he.addPage(L);a(!0),y(!1),re(B.message),t(),W()}}catch(u){y(!1),te(u?(S=(T=u==null?void 0:u.response)==null?void 0:T.data)==null?void 0:S.message:u==null?void 0:u.message),t()}},se=w=>{var T,S,u;if(s(w),Object.keys(c).length>0){k("title",c.title[w||"en"]),k("metaTitle",((T=c.metaTitle)==null?void 0:T[w||"en"])||""),k("metaDescription",((S=c.metaDescription)==null?void 0:S[w||"en"])||"");const p=((u=c.description)==null?void 0:u[w||"en"])||"";if(p){const h=Ne(p);if(h){const D=V.ContentState.createFromBlockArray(h.contentBlocks),P=V.EditorState.createWithContent(D);j(P)}}}};return A.useEffect(()=>{if(!e){M({}),l(""),k("title",""),k("slug",""),k("metaTitle",""),k("metaDescription",""),j(V.EditorState.createEmpty()),g(!1),s("en"),O("title"),O("slug");return}r&&(async()=>{var w,T,S,u,p;try{const h=await he.getPageById(r);if(h){M(h),k("title",h.title[n||"en"]),k("slug",h.slug),k("metaTitle",((w=h.metaTitle)==null?void 0:w[n||"en"])||""),k("metaDescription",((T=h.metaDescription)==null?void 0:T[n||"en"])||""),l(h.headerBg),g(h.published);const D=((S=h.description)==null?void 0:S[n||"en"])||"";if(D){const P=Ne(D);if(P){const I=V.ContentState.createFromBlockArray(P.contentBlocks),v=V.EditorState.createWithContent(I);j(v)}}}}catch(h){te(h?(p=(u=h==null?void 0:h.response)==null?void 0:u.data)==null?void 0:p.message:h==null?void 0:h.message)}})()},[r,k,e,n,O]),{register:C,handleSubmit:E,onSubmit:oe,errors:ie,imageUrl:i,setImageUrl:l,published:m,setPublished:g,isSubmitting:f,handleSelectLanguage:se,editorState:U,setEditorState:j}},qe=({id:r})=>{const{t:e}=Ae(),{register:t,handleSubmit:a,onSubmit:n,errors:i,imageUrl:l,setImageUrl:d,published:s,setPublished:m,isSubmitting:g,handleSelectLanguage:f,editorState:y,setEditorState:c}=Ct(r);return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:r?o.jsx(Oe,{register:t,handleSelectLanguage:f,title:e("UpdatePage"),description:e("UpdatePageDescription")}):o.jsx(Oe,{register:t,handleSelectLanguage:f,title:e("AddPage"),description:e("AddPageDescription")})}),o.jsx(tt.Scrollbars,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:o.jsxs("form",{onSubmit:a(n),className:"block",children:[o.jsxs("div",{className:"px-6 pt-8 flex-grow scrollbar-hide w-full max-h-full pb-40",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[o.jsx(Z,{label:e("PageTitle")}),o.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[o.jsx(fe,{register:t,label:"Page Title",name:"title",type:"text",placeholder:e("PageTitle")}),o.jsx(we,{errorName:i.title})]})]}),o.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[o.jsx(Z,{label:e("PageSlug")}),o.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[o.jsx(fe,{register:t,label:"Page Slug",name:"slug",type:"text",placeholder:e("PageSlug")}),o.jsx(we,{errorName:i.slug}),o.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"URL-friendly version (e.g., about-us, contact-us)"})]})]}),o.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[o.jsx(Z,{label:e("PageDescription")}),o.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[o.jsx("div",{className:"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-md",children:o.jsx(dt.Editor,{editorState:y,onEditorStateChange:c,wrapperClassName:"wrapper-class",editorClassName:"editor-class px-4",toolbarClassName:"toolbar-class border-b border-gray-200 dark:border-gray-600",toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","embedded","emoji","image","remove","history"],inline:{options:["bold","italic","underline","strikethrough","monospace"]},blockType:{inDropdown:!0,options:["Normal","H1","H2","H3","H4","H5","H6","Blockquote","Code"]},fontSize:{options:[8,9,10,11,12,14,16,18,24,30,36,48,60,72]},fontFamily:{options:["Arial","Georgia","Impact","Tahoma","Times New Roman","Verdana"]},list:{inDropdown:!1,options:["unordered","ordered"]},textAlign:{inDropdown:!1,options:["left","center","right","justify"]},link:{inDropdown:!1,options:["link","unlink"]},image:{uploadEnabled:!0,previewImage:!0,inputAccept:"image/gif,image/jpeg,image/jpg,image/png,image/svg",alt:{present:!0,mandatory:!1}}}})}),o.jsx(we,{errorName:i.description})]})]}),o.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[o.jsx(Z,{label:e("HeaderBackground")}),o.jsx("div",{className:"col-span-8 sm:col-span-4",children:o.jsx(mt,{imageUrl:l,setImageUrl:d,folder:"page"})})]}),o.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[o.jsx(Z,{label:e("MetaTitle")}),o.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[o.jsx(fe,{register:t,label:"Meta Title",name:"metaTitle",type:"text",placeholder:e("MetaTitle")}),o.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"For SEO optimization"})]})]}),o.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[o.jsx(Z,{label:e("MetaDescription")}),o.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[o.jsx(fe,{register:t,label:"Meta Description",name:"metaDescription",type:"text",placeholder:e("MetaDescription")}),o.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"For SEO optimization"})]})]}),o.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[o.jsx(Z,{label:e("Published")}),o.jsx("div",{className:"col-span-8 sm:col-span-4",children:o.jsx(ft,{id:"published",title:"",handleProcess:m,processOption:s})})]})]}),o.jsx(it,{id:r,title:"Page",isSubmitting:g})]})})]})};function ae(r){if(r===null||r===!0||r===!1)return NaN;var e=Number(r);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function N(r,e){if(e.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+e.length+" present")}function q(r){N(1,arguments);var e=Object.prototype.toString.call(r);return r instanceof Date||Ye(r)==="object"&&e==="[object Date]"?new Date(r.getTime()):typeof r=="number"||e==="[object Number]"?new Date(r):((typeof r=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function kt(r,e){N(2,arguments);var t=q(r).getTime(),a=ae(e);return new Date(t+a)}var St={};function pe(){return St}function Mt(r){var e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),r.getTime()-e.getTime()}function jt(r){return N(1,arguments),r instanceof Date||Ye(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Dt(r){if(N(1,arguments),!jt(r)&&typeof r!="number")return!1;var e=q(r);return!isNaN(Number(e))}function Pt(r,e){N(2,arguments);var t=ae(e);return kt(r,-t)}var Ot=864e5;function Nt(r){N(1,arguments);var e=q(r),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var a=e.getTime(),n=t-a;return Math.floor(n/Ot)+1}function ge(r){N(1,arguments);var e=1,t=q(r),a=t.getUTCDay(),n=(a<e?7:0)+a-e;return t.setUTCDate(t.getUTCDate()-n),t.setUTCHours(0,0,0,0),t}function Re(r){N(1,arguments);var e=q(r),t=e.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(t+1,0,4),a.setUTCHours(0,0,0,0);var n=ge(a),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var l=ge(i);return e.getTime()>=n.getTime()?t+1:e.getTime()>=l.getTime()?t:t-1}function Et(r){N(1,arguments);var e=Re(r),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var a=ge(t);return a}var Ut=6048e5;function _t(r){N(1,arguments);var e=q(r),t=ge(e).getTime()-Et(e).getTime();return Math.round(t/Ut)+1}function ve(r,e){var t,a,n,i,l,d,s,m;N(1,arguments);var g=pe(),f=ae((t=(a=(n=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(l=e.locale)===null||l===void 0||(d=l.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:g.weekStartsOn)!==null&&a!==void 0?a:(s=g.locale)===null||s===void 0||(m=s.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&t!==void 0?t:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=q(r),c=y.getUTCDay(),M=(c<f?7:0)+c-f;return y.setUTCDate(y.getUTCDate()-M),y.setUTCHours(0,0,0,0),y}function $e(r,e){var t,a,n,i,l,d,s,m;N(1,arguments);var g=q(r),f=g.getUTCFullYear(),y=pe(),c=ae((t=(a=(n=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(l=e.locale)===null||l===void 0||(d=l.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:y.firstWeekContainsDate)!==null&&a!==void 0?a:(s=y.locale)===null||s===void 0||(m=s.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=new Date(0);M.setUTCFullYear(f+1,0,c),M.setUTCHours(0,0,0,0);var U=ve(M,e),j=new Date(0);j.setUTCFullYear(f,0,c),j.setUTCHours(0,0,0,0);var Y=ve(j,e);return g.getTime()>=U.getTime()?f+1:g.getTime()>=Y.getTime()?f:f-1}function Wt(r,e){var t,a,n,i,l,d,s,m;N(1,arguments);var g=pe(),f=ae((t=(a=(n=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(l=e.locale)===null||l===void 0||(d=l.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:g.firstWeekContainsDate)!==null&&a!==void 0?a:(s=g.locale)===null||s===void 0||(m=s.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&t!==void 0?t:1),y=$e(r,e),c=new Date(0);c.setUTCFullYear(y,0,f),c.setUTCHours(0,0,0,0);var M=ve(c,e);return M}var At=6048e5;function Yt(r,e){N(1,arguments);var t=q(r),a=ve(t,e).getTime()-Wt(t,e).getTime();return Math.round(a/At)+1}function x(r,e){for(var t=r<0?"-":"",a=Math.abs(r).toString();a.length<e;)a="0"+a;return t+a}var X={y:function(e,t){var a=e.getUTCFullYear(),n=a>0?a:1-a;return x(t==="yy"?n%100:n,t.length)},M:function(e,t){var a=e.getUTCMonth();return t==="M"?String(a+1):x(a+1,2)},d:function(e,t){return x(e.getUTCDate(),t.length)},a:function(e,t){var a=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h:function(e,t){return x(e.getUTCHours()%12||12,t.length)},H:function(e,t){return x(e.getUTCHours(),t.length)},m:function(e,t){return x(e.getUTCMinutes(),t.length)},s:function(e,t){return x(e.getUTCSeconds(),t.length)},S:function(e,t){var a=t.length,n=e.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,a-3));return x(i,t.length)}},ne={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Lt={G:function(e,t,a){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(e,t,a){if(t==="yo"){var n=e.getUTCFullYear(),i=n>0?n:1-n;return a.ordinalNumber(i,{unit:"year"})}return X.y(e,t)},Y:function(e,t,a,n){var i=$e(e,n),l=i>0?i:1-i;if(t==="YY"){var d=l%100;return x(d,2)}return t==="Yo"?a.ordinalNumber(l,{unit:"year"}):x(l,t.length)},R:function(e,t){var a=Re(e);return x(a,t.length)},u:function(e,t){var a=e.getUTCFullYear();return x(a,t.length)},Q:function(e,t,a){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return x(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,a){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return x(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,a){var n=e.getUTCMonth();switch(t){case"M":case"MM":return X.M(e,t);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,a){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return x(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,a,n){var i=Yt(e,n);return t==="wo"?a.ordinalNumber(i,{unit:"week"}):x(i,t.length)},I:function(e,t,a){var n=_t(e);return t==="Io"?a.ordinalNumber(n,{unit:"week"}):x(n,t.length)},d:function(e,t,a){return t==="do"?a.ordinalNumber(e.getUTCDate(),{unit:"date"}):X.d(e,t)},D:function(e,t,a){var n=Nt(e);return t==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):x(n,t.length)},E:function(e,t,a){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,a,n){var i=e.getUTCDay(),l=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return x(l,2);case"eo":return a.ordinalNumber(l,{unit:"day"});case"eee":return a.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"});case"eeee":default:return a.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,a,n){var i=e.getUTCDay(),l=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return x(l,t.length);case"co":return a.ordinalNumber(l,{unit:"day"});case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"});case"cccc":default:return a.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,a){var n=e.getUTCDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return x(i,t.length);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,a){var n=e.getUTCHours(),i=n/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,a){var n=e.getUTCHours(),i;switch(n===12?i=ne.noon:n===0?i=ne.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,a){var n=e.getUTCHours(),i;switch(n>=17?i=ne.evening:n>=12?i=ne.afternoon:n>=4?i=ne.morning:i=ne.night,t){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,a){if(t==="ho"){var n=e.getUTCHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return X.h(e,t)},H:function(e,t,a){return t==="Ho"?a.ordinalNumber(e.getUTCHours(),{unit:"hour"}):X.H(e,t)},K:function(e,t,a){var n=e.getUTCHours()%12;return t==="Ko"?a.ordinalNumber(n,{unit:"hour"}):x(n,t.length)},k:function(e,t,a){var n=e.getUTCHours();return n===0&&(n=24),t==="ko"?a.ordinalNumber(n,{unit:"hour"}):x(n,t.length)},m:function(e,t,a){return t==="mo"?a.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):X.m(e,t)},s:function(e,t,a){return t==="so"?a.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):X.s(e,t)},S:function(e,t){return X.S(e,t)},X:function(e,t,a,n){var i=n._originalDate||e,l=i.getTimezoneOffset();if(l===0)return"Z";switch(t){case"X":return Ue(l);case"XXXX":case"XX":return ee(l);case"XXXXX":case"XXX":default:return ee(l,":")}},x:function(e,t,a,n){var i=n._originalDate||e,l=i.getTimezoneOffset();switch(t){case"x":return Ue(l);case"xxxx":case"xx":return ee(l);case"xxxxx":case"xxx":default:return ee(l,":")}},O:function(e,t,a,n){var i=n._originalDate||e,l=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ee(l,":");case"OOOO":default:return"GMT"+ee(l,":")}},z:function(e,t,a,n){var i=n._originalDate||e,l=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ee(l,":");case"zzzz":default:return"GMT"+ee(l,":")}},t:function(e,t,a,n){var i=n._originalDate||e,l=Math.floor(i.getTime()/1e3);return x(l,t.length)},T:function(e,t,a,n){var i=n._originalDate||e,l=i.getTime();return x(l,t.length)}};function Ee(r,e){var t=r>0?"-":"+",a=Math.abs(r),n=Math.floor(a/60),i=a%60;if(i===0)return t+String(n);var l=e;return t+String(n)+l+x(i,2)}function Ue(r,e){if(r%60===0){var t=r>0?"-":"+";return t+x(Math.abs(r)/60,2)}return ee(r,e)}function ee(r,e){var t=e||"",a=r>0?"-":"+",n=Math.abs(r),i=x(Math.floor(n/60),2),l=x(n%60,2);return a+i+t+l}var _e=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Qe=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ft=function(e,t){var a=e.match(/(P+)(p+)?/)||[],n=a[1],i=a[2];if(!i)return _e(e,t);var l;switch(n){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",_e(n,t)).replace("{{time}}",Qe(i,t))},It={p:Qe,P:Ft},Bt=["D","DD"],Ht=["YY","YYYY"];function qt(r){return Bt.indexOf(r)!==-1}function Rt(r){return Ht.indexOf(r)!==-1}function We(r,e,t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var $t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qt=function(e,t,a){var n,i=$t[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function ye(r){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):r.defaultWidth,a=r.formats[t]||r.formats[r.defaultWidth];return a}}var Gt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Xt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Vt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zt={date:ye({formats:Gt,defaultWidth:"full"}),time:ye({formats:Xt,defaultWidth:"full"}),dateTime:ye({formats:Vt,defaultWidth:"full"})},Jt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kt=function(e,t,a,n){return Jt[e]};function de(r){return function(e,t){var a=t!=null&&t.context?String(t.context):"standalone",n;if(a==="formatting"&&r.formattingValues){var i=r.defaultFormattingWidth||r.defaultWidth,l=t!=null&&t.width?String(t.width):i;n=r.formattingValues[l]||r.formattingValues[i]}else{var d=r.defaultWidth,s=t!=null&&t.width?String(t.width):r.defaultWidth;n=r.values[s]||r.values[d]}var m=r.argumentCallback?r.argumentCallback(e):e;return n[m]}}var Zt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},er={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rr={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ar={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ir=function(e,t){var a=Number(e),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},or={ordinalNumber:ir,era:de({values:Zt,defaultWidth:"wide"}),quarter:de({values:er,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:de({values:tr,defaultWidth:"wide"}),day:de({values:rr,defaultWidth:"wide"}),dayPeriod:de({values:ar,defaultWidth:"wide",formattingValues:nr,defaultFormattingWidth:"wide"})};function ce(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.width,n=a&&r.matchPatterns[a]||r.matchPatterns[r.defaultMatchWidth],i=e.match(n);if(!i)return null;var l=i[0],d=a&&r.parsePatterns[a]||r.parsePatterns[r.defaultParseWidth],s=Array.isArray(d)?lr(d,function(f){return f.test(l)}):sr(d,function(f){return f.test(l)}),m;m=r.valueCallback?r.valueCallback(s):s,m=t.valueCallback?t.valueCallback(m):m;var g=e.slice(l.length);return{value:m,rest:g}}}function sr(r,e){for(var t in r)if(r.hasOwnProperty(t)&&e(r[t]))return t}function lr(r,e){for(var t=0;t<r.length;t++)if(e(r[t]))return t}function ur(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.match(r.matchPattern);if(!a)return null;var n=a[0],i=e.match(r.parsePattern);if(!i)return null;var l=r.valueCallback?r.valueCallback(i[0]):i[0];l=t.valueCallback?t.valueCallback(l):l;var d=e.slice(n.length);return{value:l,rest:d}}}var dr=/^(\d+)(th|st|nd|rd)?/i,cr=/\d+/i,mr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fr={any:[/^b/i,/^(a|c)/i]},hr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gr={any:[/1/i,/2/i,/3/i,/4/i]},vr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},br={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wr={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yr={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tr={ordinalNumber:ur({matchPattern:dr,parsePattern:cr,valueCallback:function(e){return parseInt(e,10)}}),era:ce({matchPatterns:mr,defaultMatchWidth:"wide",parsePatterns:fr,defaultParseWidth:"any"}),quarter:ce({matchPatterns:hr,defaultMatchWidth:"wide",parsePatterns:gr,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ce({matchPatterns:vr,defaultMatchWidth:"wide",parsePatterns:pr,defaultParseWidth:"any"}),day:ce({matchPatterns:br,defaultMatchWidth:"wide",parsePatterns:xr,defaultParseWidth:"any"}),dayPeriod:ce({matchPatterns:wr,defaultMatchWidth:"any",parsePatterns:yr,defaultParseWidth:"any"})},Cr={code:"en-US",formatDistance:Qt,formatLong:zt,formatRelative:Kt,localize:or,match:Tr,options:{weekStartsOn:0,firstWeekContainsDate:1}},kr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mr=/^'([^]*?)'?$/,jr=/''/g,Dr=/[a-zA-Z]/;function Pr(r,e,t){var a,n,i,l,d,s,m,g,f,y,c,M,U,j;N(2,arguments);var Y=String(e),C=pe(),E=(a=(n=void 0)!==null&&n!==void 0?n:C.locale)!==null&&a!==void 0?a:Cr,k=ae((i=(l=(d=(s=void 0)!==null&&s!==void 0?s:void 0)!==null&&d!==void 0?d:C.firstWeekContainsDate)!==null&&l!==void 0?l:(m=C.locale)===null||m===void 0||(g=m.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=ae((f=(y=(c=(M=void 0)!==null&&M!==void 0?M:void 0)!==null&&c!==void 0?c:C.weekStartsOn)!==null&&y!==void 0?y:(U=C.locale)===null||U===void 0||(j=U.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&f!==void 0?f:0);if(!(O>=0&&O<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var W=q(r);if(!Dt(W))throw new RangeError("Invalid time value");var ie=Mt(W),oe=Pt(W,ie),se={firstWeekContainsDate:k,weekStartsOn:O,locale:E,_originalDate:W},w=Y.match(Sr).map(function(T){var S=T[0];if(S==="p"||S==="P"){var u=It[S];return u(T,E.formatLong)}return T}).join("").match(kr).map(function(T){if(T==="''")return"'";var S=T[0];if(S==="'")return Or(T);var u=Lt[S];if(u)return Rt(T)&&We(T,e,String(r)),qt(T)&&We(T,e,String(r)),u(oe,T,E.localize,se);if(S.match(Dr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return T}).join("");return w}function Or(r){var e=r.match(Mr);return e?e[1].replace(jr,"'"):r}const Nr=({id:r,title:e})=>{const{isModalOpen:t,closeModal:a,setIsUpdate:n}=A.useContext(Te),{setServiceId:i}=ke(),l=Ze(),d=()=>{l.pathname==="/products"&&(pt.deleteProduct(r).then(s=>{n(!0),re(s.message)}).catch(s=>te(s.message)),a(),i()),l.pathname==="/category"&&(wt.deleteCategory(r).then(s=>{n(!0),re(s.message)}).catch(s=>te(s.message)),a(),i()),l.pathname==="/customers"&&(bt.deleteCustomer(r).then(s=>{n(!0),re(s.message)}).catch(s=>te(s.message)),a(),i()),l.pathname==="/coupons"&&(yt.deleteCoupon(r).then(s=>{n(!0),re(s.message)}).catch(s=>te(s.message)),a(),i()),l.pathname==="/our-staff"&&(xt.deleteStaff(r).then(s=>{n(!0),re(s.message)}).catch(s=>te(s.message)),a(),i())};return o.jsx(o.Fragment,{children:o.jsxs(b.Modal,{isOpen:t,onClose:a,children:[o.jsxs(b.ModalBody,{className:"text-center custom-modal px-8 pt-6 pb-4",children:[o.jsx("span",{className:"flex justify-center text-3xl mb-6 text-red-500",children:o.jsx(Ce,{})}),o.jsxs("h2",{className:"text-xl font-medium mb-1",children:["Are You Sure! Want to Delete"," ",o.jsx("span",{className:"text-red-500",children:e})," Record?"]}),o.jsx("p",{children:"Do you really want to delete these records? You can't view this in your list anymore if you delete!"})]}),o.jsxs(b.ModalFooter,{className:"justify-center",children:[o.jsx(b.Button,{className:"w-full sm:w-auto hover:bg-white hover:border-gray-50",layout:"outline",onClick:a,children:"No, Keep It"}),o.jsx(b.Button,{onClick:d,className:"w-full sm:w-auto",children:"Yes, Delete It"})]})]})})};Ke.memo(Nr);const Er=({pages:r,isCheck:e,setIsCheck:t})=>{const{serviceId:a,handleModalOpen:n,handleUpdate:i}=ke(),{showingTranslateValue:l}=rt(),d=s=>{const{id:m,checked:g}=s.target;t([...e,m]),g||t(e.filter(f=>f!==m))};return o.jsxs(o.Fragment,{children:[o.jsx(Be,{id:a,title:"Selected Page"}),o.jsx(Fe,{children:o.jsx(qe,{id:a})}),o.jsx(b.TableBody,{children:r==null?void 0:r.map((s,m)=>{var g;return o.jsxs("tr",{children:[o.jsx(b.TableCell,{children:o.jsx(Ie,{type:"checkbox",name:(g=s==null?void 0:s.title)==null?void 0:g.en,id:s._id,handleClick:d,isChecked:e==null?void 0:e.includes(s._id)})}),o.jsx(b.TableCell,{className:"font-semibold uppercase text-xs",children:l(s==null?void 0:s.title)}),o.jsx(b.TableCell,{className:"text-sm",children:o.jsx("span",{className:"text-gray-700 dark:text-gray-400",children:s==null?void 0:s.slug})}),o.jsx(b.TableCell,{className:"text-xs",children:o.jsx("span",{className:`inline-flex px-2 text-xs font-medium leading-5 rounded-full ${s.status==="publish"?"text-green-500 bg-green-100 dark:bg-green-800 dark:text-green-100":"text-blue-500 bg-blue-100 dark:text-white dark:bg-blue-800"}`,children:s.status})}),o.jsx(b.TableCell,{className:"text-sm",children:s.createdAt?Pr(new Date(s.createdAt),"MMM dd, yyyy"):"N/A"}),o.jsx(b.TableCell,{className:"text-center",children:o.jsx("span",{className:`inline-flex px-2 text-xs font-medium leading-5 rounded-full ${s.published?"text-green-500 bg-green-100 dark:bg-green-800 dark:text-green-100":"text-red-500 bg-red-100 dark:text-red-100 dark:bg-red-800"}`,children:s.published?"Yes":"No"})}),o.jsx(b.TableCell,{children:o.jsxs("div",{className:"flex justify-end text-right",children:[o.jsx("button",{className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600",onClick:()=>i(s._id),children:o.jsx(Le,{})}),o.jsx("button",{className:"p-2 cursor-pointer text-gray-400 hover:text-red-600",onClick:()=>{var f;return n(s._id,(f=s==null?void 0:s.title)==null?void 0:f.en)},children:o.jsx(Ce,{})})]})})]},s._id)})})]})},ma=()=>{var O;const r=et(),{title:e,allId:t,serviceId:a,handleDeleteMany:n,handleUpdateMany:i}=ke();Ae();const{toggleDrawer:l,currentPage:d,handleChangePage:s,searchText:m,searchRef:g,handleSubmitForAll:f,limitData:y}=A.useContext(Te),{data:c,loading:M,error:U}=nt(()=>he.getAllPages({page:d,limit:y,search:m})),[j,Y]=A.useState(!1),[C,E]=A.useState([]),k=()=>{Y(!j),E(c==null?void 0:c.pages.map(W=>W._id)),j&&E([])};return o.jsxs(o.Fragment,{children:[o.jsx(st,{children:"Pages"}),o.jsx(Be,{ids:t,setIsCheck:E,title:e}),o.jsx(Fe,{children:o.jsx(qe,{id:a})}),o.jsx(vt,{children:o.jsx(b.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:o.jsx(b.CardBody,{className:"",children:o.jsxs("form",{onSubmit:f,className:"py-3 md:pb-0 grid gap-4 lg:gap-6 xl:gap-6 xl:flex",children:[o.jsx("div",{className:"flex-grow-0 sm:flex-grow md:flex-grow lg:flex-grow xl:flex-grow",children:o.jsx(b.Input,{ref:g,type:"search",name:"search",placeholder:"Search Pages"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:o.jsxs(b.Button,{disabled:C.length<1,onClick:()=>i(C),className:"w-full rounded-md h-12 btn-gray text-gray-600",children:[o.jsx("span",{className:"mr-2",children:o.jsx(Le,{})}),"Bulk Action"]})}),o.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:o.jsxs(b.Button,{disabled:(C==null?void 0:C.length)<1,onClick:()=>n(C,c.pages),className:"w-full rounded-md h-12 bg-red-300 disabled btn-red",children:[o.jsx("span",{className:"mr-2",children:o.jsx(Ce,{})}),"Delete"]})}),o.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:o.jsxs(b.Button,{onClick:()=>r.push("/pages/create"),className:"w-full rounded-md h-12",children:[o.jsx("span",{className:"mr-2",children:o.jsx(at,{})}),"Add Page"]})})]})]})})})}),M?o.jsx(gt,{row:12,col:6,width:160,height:20}):U?o.jsx("span",{className:"text-center mx-auto text-red-500",children:U}):((O=c==null?void 0:c.pages)==null?void 0:O.length)!==0?o.jsxs(b.TableContainer,{className:"mb-8 rounded-b-lg",children:[o.jsxs(b.Table,{children:[o.jsx(b.TableHeader,{children:o.jsxs("tr",{children:[o.jsx(b.TableCell,{children:o.jsx(Ie,{type:"checkbox",name:"selectAll",id:"selectAll",isChecked:j,handleClick:k})}),o.jsx(b.TableCell,{children:"Title"}),o.jsx(b.TableCell,{children:"Slug"}),o.jsx(b.TableCell,{children:"Status"}),o.jsx(b.TableCell,{children:"Created At"}),o.jsx(b.TableCell,{className:"text-center",children:"Published"}),o.jsx(b.TableCell,{className:"text-right",children:"Actions"})]})}),o.jsx(Er,{isCheck:C,pages:c==null?void 0:c.pages,setIsCheck:E})]}),o.jsx(b.TableFooter,{children:o.jsx(b.Pagination,{totalResults:c==null?void 0:c.totalDoc,resultsPerPage:y,onChange:s,label:"Page Navigation"})})]}):o.jsx(ot,{title:"Page"})]})};export{ma as default};
